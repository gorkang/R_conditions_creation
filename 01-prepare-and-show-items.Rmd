```{r item_preparation, include=FALSE}
# Item preparation
  source("scripts/item_preparation.R")


# Read images

# Fact-box
  # Directory
  fact_box_dir <- "materials/Presentation_format/fbpi/output/"
  # Fact-box img files
  fact_box_imgs <- dir(fact_box_dir)
  
# New paradigm
  # Directory
  new_paradigm_dir <- "materials/Presentation_format/nppi/output/"
  # Fact-box img files
  new_paradigm_imgs <- dir(new_paradigm_dir)
```
    
# Breast Cancer Items

## Low normative PPV

### NF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_nfab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_nfab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_prab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_prab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR RELATIVE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_prre_low}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_prre_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_pfab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_pfab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### FB PICTORIAL


**ca_fbpi_low_gi**  
```{r, echo=FALSE, results='asis'}
fb_ca_low <- readPNG(paste0(fact_box_dir, grep(".*ca_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**ca_fbpi_low_gs**  
```{r, echo=FALSE}
fb_ca_low <- readPNG(paste0(fact_box_dir, grep(".*ca_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**ca_fbpi_low_sg**  
```{r, echo=FALSE}
fb_ca_low <- readPNG(paste0(fact_box_dir, grep(".*ca_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**ca_fbpi_low_ss**  
```{r, echo=FALSE}
fb_ca_low <- readPNG(paste0(fact_box_dir, grep(".*ca_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[4]])
```


### NP PICTORIAL


**ca_nppi_low_gi**  
```{r, echo=FALSE, results='asis'}
np_ca_low <- readPNG(paste0(new_paradigm_dir, grep(".*ca_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**ca_nppi_low_gs**  
```{r, echo=FALSE}
np_ca_low <- readPNG(paste0(new_paradigm_dir, grep(".*ca_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**ca_nppi_low_sg**  
```{r, echo=FALSE}
np_ca_low <- readPNG(paste0(new_paradigm_dir, grep(".*ca_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**ca_nppi_low_ss**  
```{r, echo=FALSE}
np_ca_low <- readPNG(paste0(new_paradigm_dir, grep(".*ca_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[4]])
```


## High normative PPV

### NF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_nfab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_nfab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_prab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_prab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR RELATIVE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_prre_high}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_prre_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("ca", names(contexts))]])
```

```{r, results='asis', echo=FALSE, ca_pfab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("ca_pfab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))

```

### FB PICTORIAL


**ca_fbpi_high_gi**  
```{r, echo=FALSE, results='asis'}
fb_ca_high <- readPNG(paste0(fact_box_dir, grep(".*ca_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**ca_fbpi_high_gs**  
```{r, echo=FALSE}
fb_ca_high <- readPNG(paste0(fact_box_dir, grep(".*ca_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**ca_fbpi_high_sg**  
```{r, echo=FALSE}
fb_ca_high <- readPNG(paste0(fact_box_dir, grep(".*ca_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**ca_fbpi_high_ss**  
```{r, echo=FALSE}
fb_ca_high <- readPNG(paste0(fact_box_dir, grep(".*ca_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[4]])
```

### NP PICTORIAL


**ca_nppi_high_gi**  
```{r, echo=FALSE, results='asis'}
np_ca_high <- readPNG(paste0(new_paradigm_dir, grep(".*ca_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**ca_nppi_high_gs**  
```{r, echo=FALSE}
np_ca_high <- readPNG(paste0(new_paradigm_dir, grep(".*ca_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**ca_nppi_high_sg**  
```{r, echo=FALSE}
np_ca_high <- readPNG(paste0(new_paradigm_dir, grep(".*ca_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**ca_nppi_high_ss**  
```{r, echo=FALSE}
np_ca_high <- readPNG(paste0(new_paradigm_dir, grep(".*ca_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_ca_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["ca_question"]])
cat(responses[[4]])
```


***********************
# Trisomy 21 Items

## Low normative PPV

### NF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_nfab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_nfab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_prab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_prab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR RELATIVE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_prre_low}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_prre_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_pfab_low}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_pfab_low", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### FB PICTORIAL


**pr_fbpi_low_gi**  
```{r, echo=FALSE, results='asis'}
fb_pr_low <- readPNG(paste0(fact_box_dir, grep(".*pr_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**pr_fbpi_low_gs**  
```{r, echo=FALSE}
fb_pr_low <- readPNG(paste0(fact_box_dir, grep(".*pr_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**pr_fbpi_low_sg**  
```{r, echo=FALSE}
fb_pr_low <- readPNG(paste0(fact_box_dir, grep(".*pr_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**pr_fbpi_low_ss**  
```{r, echo=FALSE}
fb_pr_low <- readPNG(paste0(fact_box_dir, grep(".*pr_low.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[4]])
```

### NP PICTORIAL


**pr_nppi_low_gi**  
```{r, echo=FALSE, results='asis'}
np_pr_low <- readPNG(paste0(new_paradigm_dir, grep(".*pr_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**pr_nppi_low_gs**  
```{r, echo=FALSE}
np_pr_low <- readPNG(paste0(new_paradigm_dir, grep(".*pr_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**pr_nppi_low_sg**  
```{r, echo=FALSE}
np_pr_low <- readPNG(paste0(new_paradigm_dir, grep(".*pr_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**pr_nppi_low_ss**  
```{r, echo=FALSE}
np_pr_low <- readPNG(paste0(new_paradigm_dir, grep(".*pr_low.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_low)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[4]])
```


## High normative PPV

### NF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_nfab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_nfab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_prab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_prab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PR RELATIVE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_prre_high}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_prre_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### PF ABSOLUTE

```{r, results='asis', echo=FALSE}
cat(contexts[[grep("pr", names(contexts))]])
```

```{r, results='asis', echo=FALSE, pr_pfab_high}
invisible(lapply(problems_numbered_ordered_responses[grep("pr_pfab_high", problems_numbered_ordered_responses)], function(x) cat(x, sep = "\n****************************\n")))
```

### FB PICTORIAL

**pr_fbpi_high_gi**  
```{r, echo=FALSE, results='asis'}
fb_pr_high <- readPNG(paste0(fact_box_dir, grep(".*pr_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**pr_fbpi_high_gs**  
```{r, echo=FALSE}
fb_pr_high <- readPNG(paste0(fact_box_dir, grep(".*pr_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**pr_fbpi_high_sg**  
```{r, echo=FALSE}
fb_pr_high <- readPNG(paste0(fact_box_dir, grep(".*pr_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**pr_fbpi_high_ss**  
```{r, echo=FALSE}
fb_pr_high <- readPNG(paste0(fact_box_dir, grep(".*pr_high.*", fact_box_imgs, value = TRUE)))
grid.raster(fb_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[4]])
```


### NP PICTORIAL

**pr_nppi_high_gi**  
```{r, echo=FALSE, results='asis'}
np_pr_high <- readPNG(paste0(new_paradigm_dir, grep(".*pr_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[1]])
```
  
_******************************************_  
**pr_nppi_high_gs**  
```{r, echo=FALSE}
np_pr_high <- readPNG(paste0(new_paradigm_dir, grep(".*pr_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[2]])
```
  
_******************************************_  
**pr_nppi_high_sg**  
```{r, echo=FALSE}
np_pr_high <- readPNG(paste0(new_paradigm_dir, grep(".*pr_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[3]])
```
  
_******************************************_  
**pr_nppi_high_ss**  
```{r, echo=FALSE}
np_pr_high <- readPNG(paste0(new_paradigm_dir, grep(".*pr_high.*", new_paradigm_imgs, value = TRUE)))
grid.raster(np_pr_high)
```

```{r, echo=FALSE, results='asis'}
cat(questions[["pr_question"]])
cat(responses[[4]])
```




# Follow-up questions

```{r}
source("scripts/follow_up_preparing.R")
```


```{r, results='asis'}
invisible(lapply(fu_questions, lapply, cat))
```

